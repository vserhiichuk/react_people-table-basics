{"version":3,"sources":["components/pages/HomePage.tsx","components/pages/ErrorPage.tsx","components/Loader/Loader.tsx","components/ErrorComponent/ErrorComponent.tsx","components/EmptyComponent/EmptyComponent.tsx","utils/variablesHelpers.ts","components/PersonLink/PersonLink.tsx","components/PersonComponent/PersonComponent.tsx","components/PeopleComponent/PeopleComponent.tsx","api.ts","components/pages/PeoplePage.tsx","utils/getPreparedPeople.ts","components/NavbarComponent/NavbarComponent.tsx","App.tsx","index.tsx"],"names":["HomePage","className","ErrorPage","Loader","ErrorComponent","errorMessage","EmptyComponent","PERSON_PARAMETERS","PersonLink","person","slug","sex","name","to","cn","PersonComponent","useParams","born","died","mother","motherName","father","fatherName","PeopleComponent","people","map","param","getPeople","delay","Promise","resolve","setTimeout","then","fetch","response","json","PeoplePage","useState","setPeople","isLoading","setIsLoading","setErrorMessage","useEffect","find","getPreparedPeople","catch","finally","isDisplayErrorMessage","isNoPeopleOnServer","length","isPeopleOnServer","NavbarComponent","getLinkClass","isActive","role","App","path","element","replace","createRoot","document","getElementById","render"],"mappings":"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","file":"static/js/main.e1537aa2.chunk.js","sourcesContent":["export const HomePage = () => (\n  <h1 className=\"title\">\n    Home Page\n  </h1>\n);\n","export const ErrorPage = () => (\n  <h1 className=\"title\">\n    Page not found\n  </h1>\n);\n","import './Loader.scss';\n\nexport const Loader = () => (\n  <div className=\"Loader\" data-cy=\"loader\">\n    <div className=\"Loader__content\" />\n  </div>\n);\n","import React from 'react';\n\ninterface Props {\n  errorMessage: string\n}\n\nexport const ErrorComponent: React.FC<Props> = ({ errorMessage }) => (\n  <p data-cy=\"peopleLoadingError\" className=\"has-text-danger\">\n    {errorMessage}\n  </p>\n);\n","import React from 'react';\n\nexport const EmptyComponent: React.FC = () => (\n  <p data-cy=\"noPeopleMessage\">\n    There are no people on the server\n  </p>\n);\n","export const EMPTY_VALUE = '-';\nexport const SEX_FEMALE = 'f';\n\nexport const PERSON_PARAMETERS = [\n  'Name',\n  'Sex',\n  'Born',\n  'Died',\n  'Mother',\n  'Father',\n];\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport cn from 'classnames';\nimport { Person } from '../../types';\nimport { SEX_FEMALE } from '../../utils/variablesHelpers';\n\ninterface Props {\n  person: Person\n}\n\nexport const PersonLink: React.FC<Props> = ({ person }) => {\n  const { slug, sex, name } = person;\n\n  return (\n    <Link\n      to={`../${slug}`}\n      className={cn({\n        'has-text-danger': sex === SEX_FEMALE,\n      })}\n    >\n      {name}\n    </Link>\n  );\n};\n","import React from 'react';\nimport cn from 'classnames';\nimport { useParams } from 'react-router-dom';\nimport { PersonLink } from '../PersonLink/PersonLink';\nimport { Person } from '../../types';\nimport { EMPTY_VALUE } from '../../utils/variablesHelpers';\n\ninterface Props {\n  person: Person\n}\n\nexport const PersonComponent: React.FC<Props> = ({ person }) => {\n  const { slug } = useParams();\n  const {\n    sex,\n    born,\n    died,\n    mother,\n    motherName,\n    father,\n    fatherName,\n  } = person;\n\n  return (\n    <tr\n      data-cy=\"person\"\n      key={person.slug}\n      className={cn({\n        'has-background-warning': person.slug === slug,\n      })}\n    >\n      <td>\n        <PersonLink person={person} />\n      </td>\n\n      <td>{sex}</td>\n      <td>{born}</td>\n      <td>{died}</td>\n\n      <td>\n        {mother\n          ? <PersonLink person={mother} />\n          : motherName || EMPTY_VALUE}\n      </td>\n      <td>\n        {father\n          ? <PersonLink person={father} />\n          : fatherName || EMPTY_VALUE}\n      </td>\n    </tr>\n  );\n};\n","import React from 'react';\n\nimport { Person } from '../../types';\nimport { PERSON_PARAMETERS } from '../../utils/variablesHelpers';\nimport { PersonComponent } from '../PersonComponent/PersonComponent';\n\ninterface Props {\n  people: Person[]\n}\n\nexport const PeopleComponent: React.FC<Props> = ({ people }) => {\n  return (\n    <table\n      data-cy=\"peopleTable\"\n      className=\"table is-striped is-hoverable is-narrow is-fullwidth\"\n    >\n      <thead>\n        <tr>\n          {PERSON_PARAMETERS.map(param => (\n            <th>\n              {param}\n            </th>\n          ))}\n        </tr>\n      </thead>\n\n      <tbody>\n        {people.map((person) => (\n          <PersonComponent person={person} key={person.slug} />\n        ))}\n      </tbody>\n    </table>\n  );\n};\n","import { Person } from './types/Person';\n\n// eslint-disable-next-line max-len\nconst API_URL = 'https://mate-academy.github.io/react_people-table/api/people.json';\n\nfunction wait(delay: number) {\n  return new Promise(resolve => setTimeout(resolve, delay));\n}\n\nexport function getPeople(): Promise<Person[]> {\n  // keep this delay for testing purpose\n  return wait(500)\n    .then(() => fetch(API_URL))\n    .then(response => response.json());\n}\n","import React, { useEffect, useState } from 'react';\nimport { Person } from '../../types';\nimport { Loader } from '../Loader';\nimport { ErrorComponent } from '../ErrorComponent/ErrorComponent';\nimport { EmptyComponent } from '../EmptyComponent/EmptyComponent';\nimport { PeopleComponent } from '../PeopleComponent/PeopleComponent';\nimport { getPeople } from '../../api';\nimport { getPreparedPeople } from '../../utils/getPreparedPeople';\n\nexport const PeoplePage: React.FC = () => {\n  const [people, setPeople] = useState<Person[]>([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [errorMessage, setErrorMessage] = useState('');\n\n  useEffect(() => {\n    setIsLoading(true);\n    getPeople()\n      .then((response) => {\n        setPeople(getPreparedPeople(response));\n      })\n      .catch(() => {\n        setErrorMessage('Something went wrong');\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }, []);\n\n  const isDisplayErrorMessage = errorMessage && !isLoading;\n  const isNoPeopleOnServer = !people.length && !isLoading && !errorMessage;\n  const isPeopleOnServer = !!people.length && !errorMessage;\n\n  return (\n    <div className=\"block\">\n      <h1 className=\"title\">People Page</h1>\n      <div className=\"box table-container\">\n        {isLoading && <Loader />}\n\n        {isDisplayErrorMessage && (\n          <ErrorComponent errorMessage={errorMessage} />\n        )}\n\n        {isNoPeopleOnServer && <EmptyComponent />}\n\n        {isPeopleOnServer && <PeopleComponent people={people} />}\n      </div>\n    </div>\n  );\n};\n","import { Person } from '../types';\n\nexport function getPreparedPeople(people: Person[]) {\n  return people.map(person => {\n    const mother = people.find(({ name }) => name === person.motherName);\n    const father = people.find(({ name }) => name === person.fatherName);\n\n    return {\n      ...person,\n      mother,\n      father,\n    };\n  });\n}\n","import cn from 'classnames';\nimport { NavLink } from 'react-router-dom';\n\nexport const NavbarComponent = () => {\n  const getLinkClass = ({ isActive }: { isActive: boolean }) => (\n    cn('navbar-item', {\n      'has-background-grey-lighter': isActive,\n    })\n  );\n\n  return (\n    <nav\n      data-cy=\"nav\"\n      className=\"navbar is-fixed-top has-shadow\"\n      role=\"navigation\"\n      aria-label=\"main navigation\"\n    >\n      <div className=\"container\">\n        <div className=\"navbar-brand\">\n          <NavLink\n            to=\"/\"\n            className={getLinkClass}\n          >\n            Home\n          </NavLink>\n\n          <NavLink\n            to=\"/people\"\n            className={getLinkClass}\n          >\n            People\n          </NavLink>\n        </div>\n      </div>\n    </nav>\n  );\n};\n","import {\n  Navigate,\n  Route,\n  Routes,\n} from 'react-router-dom';\nimport './App.scss';\n\nimport { HomePage } from './components/pages/HomePage';\nimport { ErrorPage } from './components/pages/ErrorPage';\nimport { PeoplePage } from './components/pages/PeoplePage';\nimport { NavbarComponent } from './components/NavbarComponent/NavbarComponent';\n\nexport const App = () => {\n  return (\n    <div data-cy=\"app\">\n      <NavbarComponent />\n\n      <main className=\"section\">\n        <Routes>\n          <Route path=\"/\" element={<HomePage />} />\n          <Route path=\"people\">\n            <Route\n              path=\":slug?\"\n              element={(<PeoplePage />)}\n            />\n          </Route>\n\n          <Route path=\"/home\" element={<Navigate to=\"/\" replace />} />\n          <Route path=\"*\" element={<ErrorPage />} />\n        </Routes>\n      </main>\n    </div>\n  );\n};\n","import { createRoot } from 'react-dom/client';\nimport { HashRouter as Router } from 'react-router-dom';\n\nimport 'bulma/css/bulma.css';\nimport '@fortawesome/fontawesome-free/css/all.css';\n\nimport { App } from './App';\n\ncreateRoot(document.getElementById('root') as HTMLDivElement)\n  .render(\n    <Router>\n      <App />\n    </Router>,\n  );\n"],"sourceRoot":""}